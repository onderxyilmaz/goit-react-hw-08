import{u as C,b as x,j as t,d as A,c as K,a as N,e as M,f as G,g as L}from"./index-DQU8KQuV.js";function O(e,n=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(n)}function W(e,n=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(n)}function q(e,n="expected all items to be functions, instead received the following types: "){if(!e.every(s=>typeof s=="function")){const s=e.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${n}[${s}]`)}}var S=e=>Array.isArray(e)?e:[e];function Z(e){const n=Array.isArray(e[0])?e[0]:e;return q(n,"createSelector expects all input-selectors to be functions, but received the following types: "),n}function U(e,n){const s=[],{length:i}=e;for(let a=0;a<i;a++)s.push(e[a].apply(null,n));return s}var Y=class{constructor(e){this.value=e}deref(){return this.value}},B=typeof WeakRef<"u"?WeakRef:Y,P=0,w=1;function j(){return{s:P,v:void 0,o:null,p:null}}function E(e,n={}){let s=j();const{resultEqualityCheck:i}=n;let a,u=0;function d(){var y;let r=s;const{length:l}=arguments;for(let f=0,_=l;f<_;f++){const h=arguments[f];if(typeof h=="function"||typeof h=="object"&&h!==null){let o=r.o;o===null&&(r.o=o=new WeakMap);const m=o.get(h);m===void 0?(r=j(),o.set(h,r)):r=m}else{let o=r.p;o===null&&(r.p=o=new Map);const m=o.get(h);m===void 0?(r=j(),o.set(h,r)):r=m}}const c=r;let p;if(r.s===w)p=r.v;else if(p=e.apply(null,arguments),u++,i){const f=((y=a==null?void 0:a.deref)==null?void 0:y.call(a))??a;f!=null&&i(f,p)&&(p=f,u!==0&&u--),a=typeof p=="object"&&p!==null||typeof p=="function"?new B(p):p}return c.s=w,c.v=p,p}return d.clearCache=()=>{s=j(),d.resetResultsCount()},d.resultsCount=()=>u,d.resetResultsCount=()=>{u=0},d}function V(e,...n){const s=typeof e=="function"?{memoize:e,memoizeOptions:n}:e,i=(...a)=>{let u=0,d=0,r,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),O(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const p={...s,...l},{memoize:y,memoizeOptions:f=[],argsMemoize:_=E,argsMemoizeOptions:h=[]}=p,o=S(f),m=S(h),z=Z(a),R=y(function(){return u++,c.apply(null,arguments)},...o),$=_(function(){d++;const F=U(z,arguments);return r=R.apply(null,F),r},...m);return Object.assign($,{resultFunc:c,memoizedResultFunc:R,dependencies:z,dependencyRecomputations:()=>d,resetDependencyRecomputations:()=>{d=0},lastResult:()=>r,recomputations:()=>u,resetRecomputations:()=>{u=0},memoize:y,argsMemoize:_})};return Object.assign(i,{withTypes:()=>i}),i}var k=V(E),H=Object.assign((e,n=k)=>{W(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const s=Object.keys(e),i=s.map(u=>e[u]);return n(i,(...u)=>u.reduce((d,r,l)=>(d[s[l]]=r,d),{}))},{withTypes:()=>H});const D=e=>e.contacts.items,J=e=>e.contacts.isLoading,T=e=>e.filters,Q=k([D,T],(e,n)=>e.filter(s=>s.name.toLowerCase().includes(n.toLowerCase()))),X="_item_m1sbi_1",ee="_form_m1sbi_21",te="_inputGroup_m1sbi_37",ne="_input_m1sbi_37",se="_text_m1sbi_67",oe="_buttonGroup_m1sbi_77",re="_button_m1sbi_77",ae="_buttonEdit_m1sbi_89",ce="_buttonDelete_m1sbi_91",ie="_buttonCancel_m1sbi_93",b={item:X,form:ee,inputGroup:te,input:ne,text:se,buttonGroup:oe,button:re,buttonEdit:ae,buttonDelete:ce,buttonCancel:ie},le=({contact:e})=>{const n=C(),[s,i]=x.useState(!1),[a,u]=x.useState(e.name),[d,r]=x.useState(e.number),l=x.useRef(null);x.useEffect(()=>{s&&l.current&&(l.current.focus(),l.current.select())},[s]);const c=o=>{const m=o.target.value;/^[a-zA-ZğüşıöçĞÜŞİÖÇ\s]*$/.test(m)||(o.target.value=m.replace(/[^a-zA-ZğüşıöçĞÜŞİÖÇ\s]/g,"")),u(o.target.value)},p=o=>{const m=o.target.value;/^\d*$/.test(m)||(o.target.value=m.replace(/\D/g,"")),r(o.target.value)},y=()=>{n(K({contactId:e.id,name:a,number:d})),i(!1),_()},f=()=>{i(!1),u(e.name),r(e.number),_()},_=()=>{const o=document.querySelector('form input[name="name"]');o&&o.focus()},h=o=>{o.key==="Enter"&&(o.preventDefault(),y())};return t.jsx("li",{className:b.item,children:s?t.jsxs("div",{className:b.form,children:[t.jsxs("div",{className:b.inputGroup,children:[t.jsx("input",{ref:l,type:"text",value:a,onChange:c,onKeyDown:h,className:b.input,placeholder:"Sadece harf giriniz"}),t.jsx("input",{type:"text",value:d,onChange:p,onKeyDown:h,className:b.input,placeholder:"Sadece rakam giriniz"})]}),t.jsxs("div",{className:b.buttonGroup,children:[t.jsx("button",{type:"button",onClick:y,className:b.button,children:"Kaydet"}),t.jsx("button",{type:"button",onClick:f,className:b.buttonCancel,children:"İptal"})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:b.text,children:[e.name,": ",e.number]}),t.jsxs("div",{className:b.buttonGroup,children:[t.jsx("button",{onClick:()=>i(!0),className:b.buttonEdit,children:"Düzenle"}),t.jsx("button",{onClick:()=>n(A(e.id)),className:b.buttonDelete,children:"Sil"})]})]})})},ue=()=>{const e=N(Q);return t.jsx("ul",{children:e.map(n=>t.jsx(le,{contact:n},n.id))})},pe="_form_1424j_1",de="_label_1424j_23",me="_input_1424j_35",fe="_button_1424j_51",v={form:pe,label:de,input:me,button:fe},he=()=>{const e=C(),n=N(D),[s,i]=x.useState(null),a=x.useRef(null),u=l=>{l.preventDefault(),i(null);const c=l.currentTarget,p=c.elements.name.value,y=c.elements.number.value;if(n.some(_=>_.name.toLowerCase()===p.toLowerCase()||_.number===y)){i("Bu isim veya numara zaten kayıtlı!");return}e(M({name:p,number:y})),c.reset(),a.current.focus()},d=l=>{const c=l.target.value;/^[a-zA-ZğüşıöçĞÜŞİÖÇ\s]*$/.test(c)||(l.target.value=c.replace(/[^a-zA-ZğüşıöçĞÜŞİÖÇ\s]/g,""))},r=l=>{const c=l.target.value;/^\d*$/.test(c)||(l.target.value=c.replace(/\D/g,""))};return t.jsxs("form",{className:v.form,onSubmit:u,children:[t.jsxs("label",{className:v.label,children:["İsim",t.jsx("input",{ref:a,type:"text",name:"name",className:v.input,required:!0,autoFocus:!0,onChange:d,placeholder:"Sadece harf giriniz"})]}),t.jsxs("label",{className:v.label,children:["Numara",t.jsx("input",{type:"text",name:"number",className:v.input,required:!0,onChange:r,placeholder:"Sadece rakam giriniz"})]}),s&&t.jsx("div",{className:v.errorContainer,children:t.jsxs("p",{className:v.error,children:[t.jsx("span",{className:v.errorIcon,children:"⚠️"}),s]})}),t.jsx("button",{type:"submit",className:v.button,children:"Kişi Ekle"})]})},be=()=>{const e=C(),n=N(T);return t.jsxs("label",{children:["Kişilerde Ara",t.jsx("input",{type:"text",value:n,onChange:s=>e(G(s.target.value))})]})},ye="_container_l0z79_1",_e="_title_l0z79_13",ve="_section_l0z79_25",xe="_sectionTitle_l0z79_39",ge="_filterContainer_l0z79_49",g={container:ye,title:_e,section:ve,sectionTitle:xe,filterContainer:ge};function Ce(){const e=C(),n=N(J);return x.useEffect(()=>{e(L())},[e]),t.jsxs("div",{className:g.container,children:[t.jsx("h1",{className:g.title,children:"Kişi Rehberi"}),t.jsxs("div",{className:g.section,children:[t.jsx("h2",{className:g.sectionTitle,children:"Yeni Kişi Ekle"}),t.jsx(he,{})]}),t.jsxs("div",{className:g.section,children:[t.jsx("h2",{className:g.sectionTitle,children:"Kişiler"}),t.jsx("div",{className:g.filterContainer,children:t.jsx(be,{})}),n?t.jsx("p",{children:"Yükleniyor..."}):t.jsx(ue,{})]})]})}export{Ce as default};
